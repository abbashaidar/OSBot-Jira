from gw_bot.helpers.Test_Helper import Test_Helper
from osbot_jira.api.jira_server.API_Jira_To_Elastic import API_Jira_To_Elastic


class test_Jira_To_Elastic(Test_Helper):

    def setUp(self):
        super().setUp()
        self.api = API_Jira_To_Elastic()

    def test_elastic(self):
        self.api.elastic()
        self.api.elastic()

        self.result = self.api.elastic().exists()
    # not complete
    def test_handle__issuelink_created(self):
        event_type = 'issuelink_created'
        data       = {'timestamp': 1580427715757, 'webhookEvent': 'issuelink_created', 'issueLink': {'id': 11822, 'sourceIssueId': 11011, 'destinationIssueId': 11008, 'issueLinkType': {'id': 10000, 'name': 'Blocks', 'outwardName': 'blocks', 'inwardName': 'is blocked by', 'isSubTaskLinkType': False, 'isSystemLinkType': False}, 'systemLink': False}}
        self.result = self.api.handle_event(event_type, data)

    def test_handle__issuelink_deleted(self):
        event_type = 'issuelink_deleted'
        data       = {'timestamp': 1580428520270, 'webhookEvent': 'issuelink_deleted', 'issueLink': {'id': 11823, 'sourceIssueId': 10378, 'destinationIssueId': 11008, 'issueLinkType': {'id': 10000, 'name': 'Blocks', 'outwardName': 'blocks', 'inwardName': 'is blocked by', 'isSubTaskLinkType': False, 'isSystemLinkType': False}, 'systemLink': False}}
        self.result = self.api.handle_event(event_type, data)


    def test_handle__issue_created(self):
        event_type = 'jira:issue_created'
        data       = {'timestamp': 1580424169526, 'webhookEvent': 'jira:issue_created', 'issue_event_type_name': 'issue_created', 'user': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'issue': {'id': '11009', 'self': 'https://glasswall.atlassian.net/rest/api/2/11009', 'key': 'TASK-27', 'fields': {'statuscategorychangedate': '2020-01-30T16:42:49.641-0600', 'customfield_10070': None, 'customfield_10071': None, 'customfield_10072': None, 'customfield_10073': None, 'customfield_10074': None, 'fixVersions': [], 'resolution': None, 'lastViewed': '2020-01-30T16:42:49.654-0600', 'customfield_10060': None, 'customfield_10061': None, 'customfield_10062': None, 'customfield_10063': None, 'customfield_10065': None, 'customfield_10066': None, 'priority': {'self': 'https://glasswall.atlassian.net/rest/api/2/priority/3', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/priorities/medium.svg', 'name': 'Medium', 'id': '3'}, 'customfield_10067': None, 'customfield_10068': None, 'customfield_10069': None, 'labels': [], 'timeestimate': None, 'aggregatetimeoriginalestimate': None, 'versions': [], 'issuelinks': [], 'assignee': None, 'status': {'self': 'https://glasswall.atlassian.net/rest/api/2/status/1', 'description': 'The issue is open and ready for the assignee to start work on it.', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/statuses/open.png', 'name': 'Open', 'id': '1', 'statusCategory': {'self': 'https://glasswall.atlassian.net/rest/api/2/statuscategory/2', 'id': 2, 'key': 'new', 'colorName': 'blue-gray', 'name': 'New'}}, 'components': [], 'customfield_10050': None, 'customfield_10051': None, 'customfield_10052': None, 'customfield_10053': None, 'customfield_10054': None, 'customfield_10055': None, 'customfield_10056': None, 'customfield_10057': None, 'customfield_10058': None, 'customfield_10059': None, 'customfield_10049': None, 'aggregatetimeestimate': None, 'creator': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'subtasks': [], 'customfield_10040': None, 'customfield_10041': None, 'customfield_10042': None, 'reporter': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'customfield_10043': None, 'customfield_10044': None, 'aggregateprogress': {'progress': 0, 'total': 0}, 'customfield_10045': [], 'customfield_10046': None, 'customfield_10047': None, 'customfield_10048': None, 'customfield_10038': None, 'progress': {'progress': 0, 'total': 0}, 'votes': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-27/votes', 'votes': 0, 'hasVoted': False}, 'issuetype': {'self': 'https://glasswall.atlassian.net/rest/api/2/issuetype/10001', 'id': '10001', 'description': 'A small, distinct piece of work.', 'iconUrl': 'https://glasswall.atlassian.net/secure/viewavatar?size=medium&avatarId=10541&avatarType=issuetype', 'name': 'Task', 'subtask': False, 'avatarId': 10541}, 'timespent': None, 'customfield_10030': None, 'project': {'self': 'https://glasswall.atlassian.net/rest/api/2/project/10000', 'id': '10000', 'key': 'TASK', 'name': 'Tasks', 'projectTypeKey': 'business', 'simplified': False, 'avatarUrls': {'48x48': 'https://glasswall.atlassian.net/secure/projectavatar?pid=10000&avatarId=10519', '24x24': 'https://glasswall.atlassian.net/secure/projectavatar?size=small&s=small&pid=10000&avatarId=10519', '16x16': 'https://glasswall.atlassian.net/secure/projectavatar?size=xsmall&s=xsmall&pid=10000&avatarId=10519', '32x32': 'https://glasswall.atlassian.net/secure/projectavatar?size=medium&s=medium&pid=10000&avatarId=10519'}}, 'customfield_10031': None, 'customfield_10032': None, 'customfield_10033': None, 'customfield_10034': None, 'aggregatetimespent': None, 'customfield_10035': None, 'customfield_10036': None, 'customfield_10037': None, 'customfield_10028': None, 'customfield_10029': None, 'resolutiondate': None, 'workratio': -1, 'watches': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-27/watchers', 'watchCount': 0, 'isWatching': True}, 'created': '2020-01-30T16:42:49.478-0600', 'customfield_10020': None, 'customfield_10021': None, 'customfield_10022': None, 'customfield_10023': None, 'customfield_10016': None, 'customfield_10017': None, 'customfield_10018': {'hasEpicLinkFieldDependency': False, 'showField': False, 'nonEditableReason': {'reason': 'PLUGIN_LICENSE_ERROR', 'message': 'Portfolio for Jira must be licensed for the Parent Link to be available.'}}, 'customfield_10019': '0|i0061r:', 'updated': '2020-01-30T16:42:49.478-0600', 'timeoriginalestimate': None, 'description': None, 'customfield_10010': None, 'customfield_10014': None, 'customfield_10015': None, 'timetracking': {}, 'customfield_10005': None, 'customfield_10006': None, 'customfield_10007': None, 'security': None, 'customfield_10008': None, 'attachment': [], 'customfield_10009': None, 'summary': 'asd', 'customfield_10000': '{}', 'customfield_10001': None, 'customfield_10002': None, 'customfield_10003': None, 'customfield_10004': None, 'environment': None, 'duedate': None}}, 'changelog': {'id': '17640', 'items': [{'field': 'priority', 'fieldtype': 'jira', 'fieldId': 'priority', 'from': None, 'fromString': None, 'to': '3', 'toString': 'Medium'}, {'field': 'reporter', 'fieldtype': 'jira', 'fieldId': 'reporter', 'from': None, 'fromString': None, 'to': 'dcruz', 'toString': 'Dinis Cruz', 'tmpFromAccountId': None, 'tmpToAccountId': '5dee69782c44a60edee17525'}, {'field': 'Status', 'fieldtype': 'jira', 'fieldId': 'status', 'from': None, 'fromString': None, 'to': '1', 'toString': 'Open'}, {'field': 'summary', 'fieldtype': 'jira', 'fieldId': 'summary', 'from': None, 'fromString': None, 'to': None, 'toString': 'asd'}]}}
        self.result = self.api.handle_event(event_type, data)

    def test_handle_issue_deleted(self):
        event_type = 'jira:issue_deleted'
        data       = {'timestamp': 1580426442525, 'webhookEvent': 'jira:issue_deleted', 'user': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'issue': {'id': '11009', 'self': 'https://glasswall.atlassian.net/rest/api/2/11009', 'key': 'TASK-27', 'fields': {'statuscategorychangedate': '2020-01-30T16:42:49.641-0600', 'customfield_10070': None, 'customfield_10071': None, 'customfield_10072': None, 'customfield_10073': None, 'customfield_10074': None, 'fixVersions': [], 'resolution': None, 'lastViewed': '2020-01-30T16:42:55.735-0600', 'customfield_10060': None, 'customfield_10061': None, 'customfield_10062': None, 'customfield_10063': None, 'customfield_10065': None, 'customfield_10066': None, 'priority': {'self': 'https://glasswall.atlassian.net/rest/api/2/priority/3', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/priorities/medium.svg', 'name': 'Medium', 'id': '3'}, 'customfield_10067': None, 'customfield_10068': None, 'customfield_10069': None, 'labels': [], 'timeestimate': None, 'aggregatetimeoriginalestimate': None, 'versions': [], 'issuelinks': [], 'assignee': None, 'status': {'self': 'https://glasswall.atlassian.net/rest/api/2/status/1', 'description': 'The issue is open and ready for the assignee to start work on it.', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/statuses/open.png', 'name': 'Open', 'id': '1', 'statusCategory': {'self': 'https://glasswall.atlassian.net/rest/api/2/statuscategory/2', 'id': 2, 'key': 'new', 'colorName': 'blue-gray', 'name': 'To Do'}}, 'components': [], 'customfield_10050': None, 'customfield_10051': None, 'customfield_10052': None, 'customfield_10053': None, 'customfield_10054': None, 'customfield_10055': None, 'customfield_10056': None, 'customfield_10057': None, 'customfield_10058': None, 'customfield_10059': None, 'customfield_10049': None, 'aggregatetimeestimate': None, 'creator': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'subtasks': [], 'customfield_10040': None, 'customfield_10041': None, 'customfield_10042': None, 'reporter': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'customfield_10043': None, 'customfield_10044': None, 'aggregateprogress': {'progress': 0, 'total': 0}, 'customfield_10045': [], 'customfield_10046': None, 'customfield_10047': None, 'customfield_10048': None, 'customfield_10038': None, 'progress': {'progress': 0, 'total': 0}, 'votes': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-27/votes', 'votes': 0, 'hasVoted': False}, 'worklog': {'startAt': 0, 'maxResults': 20, 'total': 0, 'worklogs': []}, 'issuetype': {'self': 'https://glasswall.atlassian.net/rest/api/2/issuetype/10001', 'id': '10001', 'description': 'A small, distinct piece of work.', 'iconUrl': 'https://glasswall.atlassian.net/secure/viewavatar?size=medium&avatarId=10541&avatarType=issuetype', 'name': 'Task', 'subtask': False, 'avatarId': 10541}, 'timespent': None, 'customfield_10030': 0.0, 'project': {'self': 'https://glasswall.atlassian.net/rest/api/2/project/10000', 'id': '10000', 'key': 'TASK', 'name': 'Tasks', 'projectTypeKey': 'business', 'simplified': False, 'avatarUrls': {'48x48': 'https://glasswall.atlassian.net/secure/projectavatar?pid=10000&avatarId=10519', '24x24': 'https://glasswall.atlassian.net/secure/projectavatar?size=small&s=small&pid=10000&avatarId=10519', '16x16': 'https://glasswall.atlassian.net/secure/projectavatar?size=xsmall&s=xsmall&pid=10000&avatarId=10519', '32x32': 'https://glasswall.atlassian.net/secure/projectavatar?size=medium&s=medium&pid=10000&avatarId=10519'}}, 'customfield_10031': 0.0, 'customfield_10032': 0.0, 'customfield_10033': None, 'aggregatetimespent': None, 'customfield_10034': None, 'customfield_10035': None, 'customfield_10036': None, 'customfield_10037': None, 'customfield_10028': 0.0, 'customfield_10029': 0.0, 'resolutiondate': None, 'workratio': -1, 'watches': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-27/watchers', 'watchCount': 1, 'isWatching': True}, 'created': '2020-01-30T16:42:49.478-0600', 'customfield_10020': None, 'customfield_10021': None, 'customfield_10022': None, 'customfield_10023': None, 'customfield_10016': None, 'customfield_10017': None, 'customfield_10018': {'hasEpicLinkFieldDependency': False, 'showField': False, 'nonEditableReason': {'reason': 'PLUGIN_LICENSE_ERROR', 'message': 'Portfolio for Jira must be licensed for the Parent Link to be available.'}}, 'customfield_10019': '0|i0061r:', 'updated': '2020-01-30T16:42:49.478-0600', 'timeoriginalestimate': None, 'description': None, 'customfield_10010': None, 'customfield_10014': None, 'customfield_10015': None, 'timetracking': {}, 'customfield_10005': None, 'customfield_10006': None, 'customfield_10007': None, 'security': None, 'customfield_10008': None, 'customfield_10009': None, 'attachment': [], 'summary': 'asd', 'customfield_10000': '{}', 'customfield_10001': None, 'customfield_10002': None, 'customfield_10003': None, 'customfield_10004': None, 'environment': None, 'duedate': None, 'comment': {'comments': [], 'maxResults': 0, 'total': 0, 'startAt': 0}}}}
        self.result = self.api.handle_event(event_type, data)

    def test_handle_issue_updated(self):
        event_type ='jira:issue_updated'
        data       = {'timestamp': 1580422845543, 'webhookEvent': 'jira:issue_updated', 'issue_event_type_name': 'issue_updated', 'user': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'issue': {'id': '11007', 'self': 'https://glasswall.atlassian.net/rest/api/2/11007', 'key': 'TASK-25', 'fields': {'statuscategorychangedate': '2020-01-30T16:17:22.169-0600', 'customfield_10070': None, 'customfield_10071': None, 'customfield_10072': None, 'customfield_10073': None, 'customfield_10074': None, 'fixVersions': [], 'resolution': None, 'lastViewed': '2020-01-30T16:19:28.227-0600', 'customfield_10060': None, 'customfield_10061': None, 'customfield_10062': None, 'customfield_10063': None, 'customfield_10065': None, 'customfield_10066': None, 'priority': {'self': 'https://glasswall.atlassian.net/rest/api/2/priority/3', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/priorities/medium.svg', 'name': 'Medium', 'id': '3'}, 'customfield_10067': None, 'customfield_10068': None, 'customfield_10069': None, 'labels': [], 'timeestimate': None, 'aggregatetimeoriginalestimate': None, 'versions': [], 'issuelinks': [], 'assignee': None, 'status': {'self': 'https://glasswall.atlassian.net/rest/api/2/status/1', 'description': 'The issue is open and ready for the assignee to start work on it.', 'iconUrl': 'https://glasswall.atlassian.net/images/icons/statuses/open.png', 'name': 'Open', 'id': '1', 'statusCategory': {'self': 'https://glasswall.atlassian.net/rest/api/2/statuscategory/2', 'id': 2, 'key': 'new', 'colorName': 'blue-gray', 'name': 'New'}}, 'components': [], 'customfield_10050': None, 'customfield_10051': None, 'customfield_10052': None, 'customfield_10053': None, 'customfield_10054': None, 'customfield_10055': None, 'customfield_10056': None, 'customfield_10057': None, 'customfield_10058': None, 'customfield_10059': None, 'customfield_10049': None, 'aggregatetimeestimate': None, 'creator': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'subtasks': [], 'customfield_10040': None, 'customfield_10041': None, 'customfield_10042': None, 'reporter': {'self': 'https://glasswall.atlassian.net/rest/api/2/user?accountId=5dee69782c44a60edee17525', 'name': 'dcruz', 'key': 'dcruz', 'accountId': '5dee69782c44a60edee17525', 'avatarUrls': {'48x48': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=48&s=48', '24x24': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=24&s=24', '16x16': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=16&s=16', '32x32': 'https://secure.gravatar.com/avatar/cd5c7a867913b97100b706e92add842b?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FDC-3.png&size=32&s=32'}, 'displayName': 'Dinis Cruz', 'active': True, 'timeZone': 'America/Chicago', 'accountType': 'atlassian'}, 'customfield_10043': None, 'customfield_10044': None, 'aggregateprogress': {'progress': 0, 'total': 0}, 'customfield_10045': [], 'customfield_10046': None, 'customfield_10047': None, 'customfield_10048': None, 'customfield_10038': None, 'progress': {'progress': 0, 'total': 0}, 'votes': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-25/votes', 'votes': 0, 'hasVoted': False}, 'issuetype': {'self': 'https://glasswall.atlassian.net/rest/api/2/issuetype/10001', 'id': '10001', 'description': 'A small, distinct piece of work.', 'iconUrl': 'https://glasswall.atlassian.net/secure/viewavatar?size=medium&avatarId=10541&avatarType=issuetype', 'name': 'Task', 'subtask': False, 'avatarId': 10541}, 'timespent': None, 'customfield_10030': 0.0, 'customfield_10031': 0.0, 'project': {'self': 'https://glasswall.atlassian.net/rest/api/2/project/10000', 'id': '10000', 'key': 'TASK', 'name': 'Tasks', 'projectTypeKey': 'business', 'simplified': False, 'avatarUrls': {'48x48': 'https://glasswall.atlassian.net/secure/projectavatar?pid=10000&avatarId=10519', '24x24': 'https://glasswall.atlassian.net/secure/projectavatar?size=small&s=small&pid=10000&avatarId=10519', '16x16': 'https://glasswall.atlassian.net/secure/projectavatar?size=xsmall&s=xsmall&pid=10000&avatarId=10519', '32x32': 'https://glasswall.atlassian.net/secure/projectavatar?size=medium&s=medium&pid=10000&avatarId=10519'}}, 'customfield_10032': 1.0, 'customfield_10033': None, 'customfield_10034': None, 'aggregatetimespent': None, 'customfield_10035': None, 'customfield_10036': None, 'customfield_10037': None, 'customfield_10028': 0.0, 'customfield_10029': 1.0, 'resolutiondate': None, 'workratio': -1, 'watches': {'self': 'https://glasswall.atlassian.net/rest/api/2/issue/TASK-25/watchers', 'watchCount': 1, 'isWatching': True}, 'created': '2020-01-30T16:17:21.951-0600', 'customfield_10020': None, 'customfield_10021': None, 'customfield_10022': None, 'customfield_10023': None, 'customfield_10016': None, 'customfield_10017': None, 'customfield_10018': {'hasEpicLinkFieldDependency': False, 'showField': False, 'nonEditableReason': {'reason': 'PLUGIN_LICENSE_ERROR', 'message': 'Portfolio for Jira must be licensed for the Parent Link to be available.'}}, 'customfield_10019': '0|i0061j:', 'updated': '2020-01-30T16:20:45.515-0600', 'timeoriginalestimate': None, 'description': 'asd….', 'customfield_10010': None, 'customfield_10014': None, 'timetracking': {}, 'customfield_10015': None, 'customfield_10005': None, 'customfield_10006': None, 'customfield_10007': None, 'security': None, 'customfield_10008': None, 'attachment': [], 'customfield_10009': None, 'summary': 'another test task', 'customfield_10000': '{}', 'customfield_10001': None, 'customfield_10002': None, 'customfield_10003': None, 'customfield_10004': None, 'environment': None, 'duedate': None}}, 'changelog': {'id': '17635', 'items': [{'field': 'description', 'fieldtype': 'jira', 'fieldId': 'description', 'from': None, 'fromString': '….', 'to': None, 'toString': 'asd….'}]}}
        self.result = self.api.handle_event(event_type, data)